{% extends "admin/base.html" %}
{% load static %}
{% load i18n %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block extrahead %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'admin/css/custom.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'admin/css/dark_mode.css' %}">
    <script defer src="{% static 'admin/js/dark_mode.js' %}"></script>
{% endblock %}

{% block branding %}
    <h1 id="site-name">
        <a href="{% url 'admin:index' %}" class="d-flex align-items-center">
            <i class="fas fa-rocket me-2"></i>
            <span>Dashboard</span>
        </a>
    </h1>
    <button id="theme-toggle" class="btn btn-sm btn-outline-secondary ms-3" type="button" title="Toggle dark mode">
        <i class="fas fa-moon"></i>
    </button>
{% endblock %}

{% block usertools %}
  {% if request.user.is_active and request.user.is_staff %}
    <div id="user-tools">
      {% block welcome-msg %}
        {% translate 'Welcome,' %}
        <strong>
          {{ request.user.first_name }} {{ request.user.last_name|slice:':1' }}.
        </strong>
      {% endblock %}
      {% block userlinks %}{{ block.super }}{% endblock %}
    </div>
  {% endif %}
{% endblock %}

{% block nav-global %}
    <div class="dashboard-sidebar">
        <div class="sidebar-header">
            <h3>Dashboard</h3>
        </div>
        <ul class="sidebar-menu">
            <li class="menu-header">Main</li>
            <li>
                <a href="{% url 'admin:index' %}" class="nav-link">
                    <i class="fas fa-home"></i> <span>Home</span>
                </a>
            </li>
            <li class="menu-header">Users</li>
            <li>
                <a href="{% url 'admin:auth_user_changelist' %}" class="nav-link">
                    <i class="fas fa-users"></i> <span>Users</span>
                </a>
            </li>
            <li class="menu-header">Business</li>
            <li>
                <a href="{% url 'admin:broker_businessprofile_changelist' %}" class="nav-link">
                    <i class="fas fa-building"></i> <span>Business Profiles</span>
                </a>
            </li>
            <li>
                <a href="{% url 'admin:broker_campaign_changelist' %}" class="nav-link">
                    <i class="fas fa-bullhorn"></i> <span>Campaigns</span>
                </a>
            </li>
            <li>
                <a href="{% url 'admin:broker_promotion_changelist' %}" class="nav-link">
                    <i class="fas fa-tag"></i> <span>Promotions</span>
                </a>
            </li>
            <li class="menu-header">Content</li>
            <li>
                <a href="{% url 'admin:broker_listing_changelist' %}" class="nav-link">
                    <i class="fas fa-list"></i> <span>Listings</span>
                </a>
            </li>
        </ul>
    </div>
{% endblock %}

{% block footer %}
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">Â© {% now "Y" %} Your Company. All rights reserved.</p>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% extends "admin/change_list.html" %}
{% load i18n admin_urls static admin_list jazzmin %}

{% block pagination %}
    {{ block.super }}
    <script>
    // Fix for jazzmin pagination - ensure all pagination links have proper href attributes
    document.addEventListener('DOMContentLoaded', function() {
        var pagination = document.querySelector('.pagination');
        if (pagination) {
            var links = pagination.getElementsByTagName('a');
            for (var i = 0; i < links.length; i++) {
                if (!links[i].getAttribute('href') && links[i].getAttribute('data-href-template')) {
                    var pageNum = links[i].textContent.trim();
                    if (!isNaN(pageNum)) {
                        links[i].setAttribute('href', links[i].getAttribute('data-href-template').replace('__pagenumber__', pageNum));
                    }
                }
            }
        }
    });
    </script>
{% endblock %}

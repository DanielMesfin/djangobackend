{% load i18n static jazzmin admin_list %}

{% if pagination_required and page_range %}
    <div class="pagination">
        <ul class="pagination m-0">
            {% comment %} First page link {% endcomment %}
            {% if show_first %}
                <li class="page-item">
                    <a href="?p=1{{ getvars }}" class="page-link" aria-label="{% trans 'First page' %}">
                        &laquo; {% trans 'first' %}
                    </a>
                </li>
            {% endif %}

            {% comment %} Previous page link {% endcomment %}
            {% if has_previous %}
                <li class="page-item">
                    <a href="?p={{ previous_page_number }}{{ getvars }}" class="page-link" aria-label="{% trans 'Previous page' %}">
                        &lsaquo; {% trans 'previous' %}
                    </a>
                </li>
            {% else %}
                <li class="page-item disabled">
                    <span class="page-link" aria-hidden="true">&lsaquo; {% trans 'previous' %}</span>
                </li>
            {% endif %}
            
            {% comment %} Page numbers {% endcomment %}
            {% for page in page_range %}
                {% if page == '.' %}
                    <li class="page-item disabled">
                        <span class="page-link">â€¦</span>
                    </li>
                {% else %}
                    <li class="page-item{% if page == page_num %} active{% endif %}">
                        <a href="?p={{ page }}{{ getvars }}" class="page-link" {% if page == page_num %}aria-current="page"{% endif %}>
                            {{ page }}
                            {% if page == page_num %}
                                <span class="sr-only">({% trans 'current' %})</span>
                            {% endif %}
                        </a>
                    </li>
                {% endif %}
            {% endfor %}
            
            {% comment %} Next page link {% endcomment %}
            {% if has_next %}
                <li class="page-item">
                    <a href="?p={{ next_page_number }}{{ getvars }}" class="page-link" aria-label="{% trans 'Next page' %}">
                        {% trans 'next' %} &rsaquo;
                    </a>
                </li>
            {% else %}
                <li class="page-item disabled">
                    <span class="page-link" aria-hidden="true">{% trans 'next' %} &rsaquo;</span>
                </li>
            {% endif %}

            {% comment %} Last page link {% endcomment %}
            {% if show_last %}
                <li class="page-item">
                    <a href="?p={{ pages }}{{ getvars }}" class="page-link" aria-label="{% trans 'Last page' %}">
                        {% trans 'last' %} &raquo;
                    </a>
                </li>
            {% endif %}
        </ul>
    </div>
{% endif %}
